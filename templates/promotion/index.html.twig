{% extends 'base.html.twig' %}

{% block title %}Home
{% endblock %}

{% block body %}
	<div class="carousel">
		<div class="carousel-item active">
			<img src="{{ asset('caroussel/acqua-di-gio-profondo-parfum.jpg') }}" alt="Slide 1">
		</div>
		<div class="carousel-item">
			<img src="{{ asset('caroussel/armani-si.jpg') }}" alt="Slide 2">
		</div>
		<div class="carousel-item ">
			<img src="{{ asset('caroussel/coffret-armani-si.jpg') }}" alt="Slide 3">
		</div>
		<div class="carousel-item">
			<img src="{{ asset('caroussel/la vie est belle.jpg') }}" alt="Slide 3">
		</div>
		<div class="carousel-item">
			<img src="{{ asset('caroussel/terre-hermes-le-parfum.jpg') }}" alt="Slide 3">
		</div>
		<div class="carousel-controls">
			<button class="carousel-control prev" onclick="changeSlide(-1)">&#10094;</button>
			<button class="carousel-control next" onclick="changeSlide(1)">&#10095;</button>
		</div>
	</div>

	<section class='section_promotion'>
		<h1 id='section_titre'>seléction coffrets
		</h1>
		<div class="products_promotion">
			{% for promotionCoffret in promotionCoffrets %}
				<div class="product-card">
				<div class='container-image'>
					<a href="{{ path('produits_promotions', { id: promotionCoffret.id }) }}">
						<img src="{{ asset('uploads/images/' ~ promotionCoffret.parfums.image) }}" alt="{{ promotionCoffret.parfums.nom }}" width="158" height="158"></a>
				</div>
					<span class='coffrets-marque'>{{ promotionCoffret.parfums.marque }}
					</span>
					<span class='coffrets-nom'>{{ promotionCoffret.parfums.nom }}</span>
					{% set pourcentage = promotionCoffret.pourcentagePromotion %}
					{% set prix_initial = promotionCoffret.prix %}
					{% set prix_apres_promotion = prix_initial * (1 - pourcentage / 100) %}
					<div class='prix-promo'>
						<span class='coffrets-prix_reduction'>{{ prix_apres_promotion }}
							€</span>
						<span class='coffrets-prix'>{{ prix_initial }}
							€</span>
					</div>

				</div>
			{% endfor %}
		</div>
	</section>
	<section class='section_promotion'>
		<h1 id='section_titre'>seléction parfums
		</h1>
		<div class="products_promotion">
			{% for promotionParfums in promotionParfums %}
				<div class="product-card">
				<div class='container-image'>
					<a href="{{ path('produits_promotions', { id: promotionParfums.id }) }}">
						<img src="{{ asset('uploads/images/' ~ promotionParfums.parfums.image) }}" alt="{{ promotionParfums.parfums.nom }}" width="158" height="158"></a>
					</div>
					<span class='coffrets-marque'>{{ promotionParfums.parfums.marque }}
					</span>
					<span class='coffrets-nom'>{{ promotionParfums.parfums.nom }}</span>
					{% set pourcentage = promotionParfums.pourcentagePromotion %}
					{% set prix_initial = promotionParfums.prix %}
					{% set prix_apres_promotion = prix_initial * (1 - pourcentage / 100) %}
					<div class='prix-promo'>
						<span class='coffrets-prix_reduction'>{{ prix_apres_promotion }}
							€</span>
						<span class='coffrets-prix'>{{ prix_initial }}
							€</span>
					</div>
				</div>
			{% endfor %}
		</div>
	</section>

	<script>
		let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-item');
const totalSlides = slides.length;

function changeSlide(direction) {
slides[currentSlide].classList.remove('active');
currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
slides[currentSlide].classList.add('active');
}

setInterval(() => changeSlide(1), 5000); // Change de diapositive toutes les 5 secondes
	</script>

{% endblock %}
